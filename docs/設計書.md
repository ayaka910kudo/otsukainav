```設計書.mermaid
erDiagram
    CATEGORY ||--o{ ITEM : "1対多"
    STORE ||--o{ ITEM : "1対多"
    ITEM ||--o{ STOCK : "1対多"
    ITEM ||--o{ PURCHASE_HISTORY : "1対多"

    CATEGORY {
        bigint id PK
        string name "ジャンル名（例：調味料、日用品）"
        datetime created_at
    }

    STORE {
        bigint id PK
        string name "店名（例：イオン、Amazonなど）"
        string location "任意：店舗所在地URLや住所"
        datetime created_at
    }

    ITEM {
        bigint id PK
        string name "一般名（例：歯磨き粉、醤油など）"
        string note "任意：商品名やブランドなど詳細"
        bigint category_id FK "ジャンルID"
        bigint store_id FK "販売店ID"
        datetime created_at
    }

    STOCK {
        bigint id PK
        bigint item_id FK "商品ID"
        int quantity "在庫数"
        date expiry_date "使用期限"
        int threshold "残り個数の閾値"
        datetime updated_at
    }

    PURCHASE_HISTORY {
        bigint id PK
        bigint item_id FK "商品ID"
        int quantity "購入個数"
        date expiry_date "使用期限"
        datetime purchased_at "購入日時"
    }

```
